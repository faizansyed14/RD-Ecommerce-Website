<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Details</title>
  <link rel="stylesheet" href="./assets/css/style-prefix.css">
</head>
<body>
  <header>

    <div class="header-top">

      <div class="container">

        <ul class="header-social-container">

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-twitter"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-linkedin"></ion-icon>
            </a>
          </li>

        </ul>

        <div class="header-alert-news">
          <p>
            <b>Free Shipping</b>
            This Week Order Over - â‚¹999
          </p>
        </div>

      </div>

    </div>

    <div class="header-main">

      <div class="container">

        <a href="index.html" class="header-logo">
          <img src="./assets/images/logo/logo.svg" alt="rd logo" width="150" height="56">
        </a>

        <div class="header-search-container">

          <input type="search" name="search" class="search-field" placeholder="Enter your product name...">

          <button class="search-btn">
            <ion-icon name="search-outline"></ion-icon>
          </button>

        </div>

        <div class="header-user-actions">

          <button class="action-btn">
            <ion-icon name="heart-outline"></ion-icon>
            <!-- <span class="count">0</span> -->
          </button>

          <!-- Updated Cart Icon with link to cart.html -->
          <a href="cart.html">
            <button class="action-btn">
              <ion-icon name="cart-outline"></ion-icon>
              <span class="count" id="cart-count">0</span> <!-- Cart Count -->
            </button>
          </a>
        </div>

      </div>

    </div>

    <nav class="desktop-navigation-menu">

      <div class="container">

        <ul class="desktop-menu-category-list">

          <li class="menu-category">
            <a href="index.html" class="menu-title">Home</a>
          </li>

          <li class="menu-category">
            <a href="#" class="menu-title">Categories</a>

            <div class="dropdown-panel">


              <ul class="dropdown-panel-list">

                <li class="menu-title">
                  <a href="mens.html">Men's</a>
                </li>

                <li class="panel-list-item">
                  <a href="mens.html">Formal</a>
                </li>

                <li class="panel-list-item">
                  <a href="mens.html">Casual</a>
                </li>

                <li class="panel-list-item">
                  <a href="mens.html">Sports</a>
                </li>


                <li class="panel-list-item">
                  <a href="#">
                    <img src="./assets/images/mens-banner.jpg" alt="men's fashion" width="250" height="119">
                  </a>
                </li>

              </ul>

              <ul class="dropdown-panel-list">

                <li class="menu-title">
                  <a href="index.html">Women's</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">Formal</a>
                </li>

                <li class="panel-list-item">
                  <a href="#">Casual</a>
                </li>


                <li class="panel-list-item">
                  <a href="#">
                    <img src="./assets/images/womens-banner.jpg" alt="women's fashion" width="250" height="119">
                  </a>
                </li>

              </ul>



            </div>
          </li>

          <li class="menu-category">
            <a href="mens.html" class="menu-title">Men's</a>

            <ul class="dropdown-list">

              <li class="dropdown-item">
                <a href="mens.html">Shirt</a>
              </li>

              <li class="dropdown-item">
                <a href="mens.html">Shorts & Jeans</a>
              </li>

            </ul>
          </li>

          <li class="menu-category">
            <a href="index.html" class="menu-title">Women's</a>

            <ul class="dropdown-list">

              <li class="dropdown-item">
                <a href="#">Dress & Frock</a>
              </li>



            </ul>
          </li>

          <li class="menu-category">
            <a href="#" class="menu-title">Services</a>
          </li>

          <li class="menu-category">
            <a href="index.html" class="menu-title">Hot Offers</a>
          </li>

        </ul>

      </div>

    </nav>

    <div class="mobile-bottom-navigation">

      <button class="action-btn" data-mobile-menu-open-btn>
        <ion-icon name="menu-outline"></ion-icon>
      </button>


      <a href="cart.html">
        <button class="action-btn">
          <ion-icon name="cart-outline"></ion-icon>
          <span class="count">0</span>
 <!-- Cart Count -->
        </button>
      </a>


      <button class="action-btn">
        <ion-icon name="home-outline"></ion-icon>
      </button>

      <button class="action-btn">
        <ion-icon name="heart-outline"></ion-icon>

        <!-- <span class="count">0</span> -->
      </button>

      <button class="action-btn" data-mobile-menu-open-btn>
        <ion-icon name="grid-outline"></ion-icon>
      </button>

    </div>

    <nav class="mobile-navigation-menu  has-scrollbar" data-mobile-menu>

      <div class="menu-top">
        <h2 class="menu-title">Menu</h2>

        <button class="menu-close-btn" data-mobile-menu-close-btn>
          <ion-icon name="close-outline"></ion-icon>
        </button>
      </div>

      <ul class="mobile-menu-category-list">

        <li class="menu-category">
          <a href="index.html" class="menu-title">Home</a>
        </li>

        <li class="menu-category">

          <button class="accordion-menu" data-accordion-btn>
            <p class="menu-title">Men's</p>

            <div>
              <ion-icon name="add-outline" class="add-icon"></ion-icon>
              <ion-icon name="remove-outline" class="remove-icon"></ion-icon>
            </div>
          </button>

          <ul class="submenu-category-list" data-accordion>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Shirt</a>
            </li>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Shorts & Jeans</a>
            </li>


          </ul>

        </li>

        <li class="menu-category">

          <button class="accordion-menu" data-accordion-btn>
            <p class="menu-title">Women's</p>

            <div>
              <ion-icon name="add-outline" class="add-icon"></ion-icon>
              <ion-icon name="remove-outline" class="remove-icon"></ion-icon>
            </div>
          </button>

          <ul class="submenu-category-list" data-accordion>

            <li class="submenu-category">
              <a href="#" class="submenu-title">Dress & Frock</a>
            </li>


          </ul>

        </li>



        <li class="menu-category">
          <a href="#" class="menu-title">Blog</a>
        </li>

        <li class="menu-category">
          <a href="index.html" class="menu-title">Hot Offers</a>
        </li>

      </ul>

      <div class="menu-bottom">

        <ul class="menu-social-container">

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-twitter"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-linkedin"></ion-icon>
            </a>
          </li>

        </ul>

      </div>

    </nav>

  </header>

    <!-- Back to home icon -->
    <a href="index.html" class="home-icon">
      <ion-icon name="home"></ion-icon>
    </a>

  <div id="product-details" class="product-details"></div>

  <!-- Popup for adding to cart notification -->
  <div id="add-to-cart-popup" class="add-to-cart-popup" style="display: none;">
    <div class="popup-content">
      <div class="checkmark-circle">
        <div class="background"></div>
        <div class="checkmark draw"></div>
      </div>
      <p>Item has been added to cart!</p>
      <button onclick="window.location.href='cart.html'" class="my-cart-button">My Cart</button>
    </div>
  </div>

  <script>
    function fetchProductDetails() {
      const urlParams = new URLSearchParams(window.location.search);
      const productId = urlParams.get('id');

      fetch('./data/data.json')
        .then(response => response.json())
        .then(products => {
          const product = products.find(p => p.id === parseInt(productId));
          if (product) {
            const sizeOptions = product.sizes.map(size => `<option value="${size}">${size}</option>`).join('');
            document.getElementById('product-details').innerHTML = `
              <h1>${product.name}</h1>
              <div class="product-image" style="width: 50%; margin: auto;">
                <img src="${product.image}" alt="${product.name}" style="width: 100%;">
              </div>
              <p>${product.description}</p>
              <p>Size: <select id="size-select">${sizeOptions}</select></p>
              <p>Price: â‚¹${product.price.toFixed(2)}</p>
              <button class="my-cart-button" onclick="addToCart(${product.id})">Add to Cart</button>
            `;
          } else {
            document.getElementById('product-details').innerHTML = `<p>Product not found.</p>`;
          }
        })
        .catch(error => {
          console.error('Failed to fetch products:', error);
          document.getElementById('product-details').innerHTML = `<p>Error loading product details.</p>`;
        });
    }

    function addToCart(productId) {
  fetch('./data/data.json')
    .then(response => response.json())
    .then(products => {
      const product = products.find(p => p.id === productId);
      if (product) {
        const size = document.getElementById('size-select').value;
        const cartItem = {
          id: product.id,
          name: product.name,
          price: product.price,
          size: size,
          image: product.image
        };

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.push(cartItem);
        localStorage.setItem('cart', JSON.stringify(cart));
        showAddToCartPopup();

        // Redirect to the cart page after adding to cart
        window.location.href = 'cart.html';
      }
    });
}


    function showAddToCartPopup() {
      const popup = document.getElementById('add-to-cart-popup');
      popup.style.display = 'flex';
      setTimeout(() => {
        popup.style.display = 'none';
      }, 3000); // Popup disappears after 3 seconds
    }

    document.addEventListener("DOMContentLoaded", fetchProductDetails);
  </script>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>


</body>
</html>
